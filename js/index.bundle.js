window.addEventListener("load",(function(){setTimeout((function(){document.getElementById("loading-screen").style.opacity="0",document.querySelector(".main").style.display="block",setTimeout((function(){document.getElementById("loading-screen").style.display="none",document.querySelector(".main").style.opacity="1"}),1e3)}),1e3)})),document.addEventListener("DOMContentLoaded",(function(){let e;const t=document.getElementById("startButton"),o=document.getElementById("nextButton"),n=document.getElementById("stopButton"),a=document.querySelector(".flashlight-btn"),l=document.getElementById("videoElement"),c=document.getElementById("videoElement-user"),s=document.getElementById("backButton"),i=document.getElementById("heart"),d=document.getElementById("content-section"),r=document.querySelector(".left-user-stream"),u=document.querySelectorAll(".hide-on-stream");if(r.style.display="none",o.style.display="none",n.style.display="none",a.style.display="none",i.style.display="none",s.style.display="none",t.addEventListener("click",(function(){navigator.mediaDevices.getUserMedia({video:!0}).then((function(m){e=m,l.srcObject=m,c.srcObject=m,t.textContent="Chatting...",d.style.display="none",r.style.display="block",u.forEach((e=>{gsap.to(e,{opacity:0,visibility:"hidden",duration:.4,ease:"power2.out"})})),t.style.display="none",o.style.display="flex",n.style.display="flex",a.style.display="flex",s.style.display="flex",i.style.display="flex",gsap.fromTo(o,{opacity:0,y:-20},{opacity:1,y:0,duration:.5}),gsap.fromTo(n,{opacity:0,y:-20},{opacity:1,y:0,duration:.5}),gsap.fromTo(a,{opacity:0,y:20},{opacity:1,y:0,duration:.5}),gsap.fromTo(s,{opacity:0,y:-20},{opacity:1,y:0,duration:.5}),gsap.fromTo(i,{opacity:0,y:20},{opacity:1,y:0,duration:.5})})).catch((function(e){console.error("Error accessing camera: ",e),alert("Unable to access camera.")}))})),n.addEventListener("click",(function(){e&&(e.getTracks().forEach((e=>e.stop())),l.srcObject=null,t.textContent="Start Chat",t.style.display="block",d.style.display="flex",r.style.display="none",u.forEach((e=>{gsap.to(e,{opacity:1,visibility:"visible",duration:.4,ease:"power2.out"})}))),o.style.display="none",n.style.display="none",a.style.display="none",s.style.display="none",i.style.display="none"})),s.addEventListener("click",(function(){gsap.timeline().fromTo(s,{scale:1,y:0},{scale:.8,duration:.1,x:-10,ease:"power2.out"}).to(s,{scale:1,duration:.1,ease:"power2.out"}).to(s,{scale:1.2,duration:.1,x:0,ease:"power2.out"}).to(s,{scale:1,duration:.3,ease:"power2.out"}),gsap.timeline().fromTo("#videoElement-user",{opacity:1,x:0},{opacity:0,x:"100%",duration:1,ease:"power2.out"}).to("#videoElement-user",{opacity:1,x:"-100%",duration:0,ease:"power2.out"}).to("#videoElement-user",{opacity:1,x:0,duration:1,ease:"power2.out"})})),i.addEventListener("click",(function(){gsap.timeline().fromTo(i,{scale:1},{scale:.8,duration:.1,ease:"power2.out"}).to(i,{scale:1,duration:.1,ease:"power2.out"}).to(i,{scale:1.2,duration:.1,ease:"power2.out"}).to(i,{scale:1,duration:.3,ease:"power2.out"})})),a.addEventListener("click",(function(){gsap.timeline().fromTo(a,{scale:1},{scale:.8,duration:.1,ease:"power2.out"}).to(a,{scale:1,duration:.1,ease:"power2.out"}).to(a,{scale:1.2,duration:.1,ease:"power2.out"}).to(a,{scale:1,duration:.3,ease:"power2.out"})})),o.addEventListener("click",(function(){gsap.timeline().fromTo(o,{scale:1,y:0},{scale:.8,duration:.1,x:10,ease:"power2.out"}).to(o,{scale:1,duration:.1,ease:"power2.out"}).to(o,{scale:1.2,duration:.1,x:0,ease:"power2.out"}).to(o,{scale:1,duration:.3,ease:"power2.out"}),gsap.timeline().fromTo("#videoElement-user",{opacity:1,x:0},{opacity:0,x:"-100%",duration:1,ease:"power2.out"}).to("#videoElement-user",{opacity:1,x:"100%",duration:0,ease:"power2.out"}).to("#videoElement-user",{opacity:1,x:0,duration:1,ease:"power2.out"})})),document.querySelectorAll(".left .nav-list button")&&document.querySelectorAll("button[data-tab]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");document.querySelectorAll(".content-left").forEach((e=>e.classList.remove("active"))),document.getElementById("content"+t).classList.add("active"),document.querySelectorAll(".left .nav-list button").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),t>1?document.getElementById("mainSection").classList.add("full-screen"):document.getElementById("mainSection").classList.remove("full-screen"),gsap.timeline().fromTo("#content"+t,{opacity:0,y:500,scale:.7},{opacity:1,y:0,scale:.85,duration:.7,ease:"power4.out"}).to("#content"+t,{scale:1,filter:"blur(0px)",duration:.3,ease:"elastic.out(1, 1)"}).to("#content"+t,{scale:1,duration:.3,ease:"ease.out"})}))})),document.querySelectorAll("[data-popup]")&&(document.querySelectorAll("[data-popup]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-popup"),o=document.getElementById(t);if(o){o.classList.add("active");const e=o.querySelector(".popup-content");gsap.timeline().fromTo(e,{opacity:0,y:500,scale:.7},{opacity:1,y:"0%",scale:.85,duration:.5,ease:"power4.out"}).to(e,{scale:1,duration:.5,ease:"elastic.out(1, 1)"}).to(e,{scale:1,duration:.3,ease:"ease.out"})}}))})),document.querySelectorAll(".popup-close").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".popup");t&&t.classList.remove("active")}))})),document.querySelectorAll(".popup-background").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".popup");t&&t.classList.remove("active")}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&document.querySelectorAll(".popup.active").forEach((e=>{e.classList.remove("active")}))}))),document.querySelector(".left")&&function(){const e=document.querySelector(".left");e&&function t(){(function(){const t=document.createElement("div"),o=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("viewBox","0 0 600 500"),o.style.fill="white",n.setAttribute("d","M300,150 C500,10 600,300 300,400 C0,300 100,10 300,150"),o.classList.add("heart"),o.appendChild(n),t.classList.add("bubble"),t.style.background=function(){const e=["linear-gradient(to top right, #fd267a, #ff6036)"];return e[Math.floor(Math.random()*e.length)]}(),t.appendChild(o),e.appendChild(t);let a=Math.random()*e.clientWidth,l=Math.random()*e.clientHeight;t.style.left=`${a}px`,t.style.top=`${l}px`,t.animate([{opacity:0,transform:"translate(-50%, 0%) scale(0)"},{opacity:1,transform:"translate(-50%, -50%) scale(1)"},{opacity:0,transform:"translate(-50%, -100%) scale(1.2)"}],{duration:3e3,easing:"ease-out",fill:"forwards"}),setTimeout((()=>t.remove()),3e3)})(),setTimeout(t,400)}()}(),document.getElementById("theme-switch")){const e=document.getElementById("theme-switch"),t=document.body;"dark"===localStorage.getItem("theme")?(t.classList.add("dark-theme"),e.checked=!0):(t.classList.add("light-theme"),e.checked=!1),e.addEventListener("change",(function(){this.checked?(t.classList.add("dark-theme"),t.classList.remove("light-theme"),localStorage.setItem("theme","dark")):(t.classList.remove("dark-theme"),t.classList.add("light-theme"),localStorage.setItem("theme","light"))}))}if(document.getElementById("hamburger")){const e=document.getElementById("hamburger"),t=document.getElementById("menu");e.addEventListener("click",(function(){e.classList.toggle("open"),t.classList.toggle("open")})),t.querySelectorAll("a").forEach((o=>{o.addEventListener("click",(function(){e.classList.remove("open"),t.classList.remove("open")}))})),document.addEventListener("click",(function(o){t.contains(o.target)||e.contains(o.target)||(e.classList.remove("open"),t.classList.remove("open"))}))}if(document.querySelector(".chat")&&document.querySelectorAll(".chat").forEach((e=>{const t=e.querySelector(".messages-content"),o=e.querySelector(".message-input"),n=e.querySelector(".message-submit"),a=e.querySelector(".chat-title h1").innerText,l=document.querySelector(`.chat-list-item[data-chat="${a}"] .item-lastmess`);let c,s,i=0;function d(){t.scrollTop=t.scrollHeight}function r(){if(c=new Date,s!==c.getMinutes()){s=c.getMinutes();const e=document.createElement("div");e.classList.add("timestamp"),e.innerText=`${c.getHours()}:${s}`,t.lastElementChild.appendChild(e)}}function u(e){l&&(l.innerText=e.length>40?e.substring(0,40)+"...":e)}function m(){const e=o.value.trim();if(""===e)return;const n=document.createElement("div");n.classList.add("message","message-personal"),n.innerText=e,t.appendChild(n),r(),o.value=null,d(),u(e),setTimeout((function(){!function(){if(""!==o.value)return;const e=document.createElement("div");e.classList.add("message","loading","new");const n=document.createElement("figure");n.classList.add("avatar");const a=document.createElement("img");a.src="img/avatar.png",n.appendChild(a),e.appendChild(n),e.innerHTML+="<span></span>",t.appendChild(e),d(),setTimeout((function(){e.remove();const o=document.createElement("div");o.classList.add("message","new");const n=document.createElement("figure");n.classList.add("avatar");const a=document.createElement("img");a.src="img/avatar.png",n.appendChild(a),o.appendChild(n),o.innerHTML+=y[i%y.length],t.appendChild(o),r(),d(),u(y[i%y.length]),i++}),1e3+20*Math.random()*100)}()}),1e3+20*Math.random()*100)}n.addEventListener("click",m),e.addEventListener("keydown",(function(e){13===e.which&&(m(),e.preventDefault())}));const y=["Hi there, I'm Fabio and you?","Nice to meet you","How are you?","Not too bad, thanks","What do you do?","That's awesome","Codepen is a nice place to stay","I think you're a nice person","Why do you think that?","Can you explain?","Anyway I've gotta go now","It was a pleasure chat with you","Time to make a new codepen","Bye",":)"]})),document.querySelectorAll(".left .nav-list button")&&document.querySelectorAll(".left .nav-list button").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");document.querySelectorAll(".content-left").forEach((e=>e.classList.remove("active"))),document.getElementById("content"+t).classList.add("active"),document.querySelectorAll(".left .nav-list button").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),t>1?document.getElementById("mainSection").classList.add("full-screen"):document.getElementById("mainSection").classList.remove("full-screen"),gsap.timeline().fromTo("#content"+t,{opacity:0,y:500,scale:.7},{opacity:1,y:0,scale:.85,duration:.7,ease:"power4.out"}).to("#content"+t,{scale:1,filter:"blur(0px)",duration:.3,ease:"elastic.out(1, 1)"}).to("#content"+t,{scale:1,duration:.3,ease:"ease.out"})}))})),document.querySelectorAll(".chat-list .chat-item")&&document.querySelectorAll(".chat-list .chat-item").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");document.querySelectorAll(".content-left").forEach((e=>e.classList.remove("active"))),document.getElementById("chat-"+t).classList.add("active"),document.querySelectorAll(".chat-list .chat-item").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),gsap.timeline().fromTo("#chat-"+t,{opacity:0,y:500,scale:.7},{opacity:1,y:0,scale:.85,duration:.7,ease:"power4.out"}).to("#chat-"+t,{scale:1,filter:"blur(0px)",duration:.3,ease:"elastic.out(1, 1)"}).to("#chat-"+t,{scale:1,duration:.3,ease:"ease.out"})}))})),document.querySelector(".border-light")){const e=document.querySelector(".border-light"),t=document.getElementById("toggleLight"),o=document.getElementById("flashlightIcon"),n='<path d="M9 18H15" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M10 21H14" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M16.4999 11.5C17.4997 10.5 17.9765 9.48689 17.9999 8C18.0479 4.95029 16 3 11.9999 3C10.8324 3 9.83119 3.16613 8.99988 3.47724" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M8.99985 15C9 13 8.5 12.5 7.49985 11.5C6.4997 10.5 6.02324 9.48689 5.99985 8C5.99142 7.46458 6.0476 6.96304 6.1676 6.5" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M3 3L21 21" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>',a='<path d="M9 18H15" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M10 21H14" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>';t.addEventListener("click",(()=>{"none"===e.style.display||""===e.style.display?(e.style.display="block",o.innerHTML=n):(e.style.display="none",o.innerHTML=a)}))}if(document.querySelectorAll(".tab").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");document.querySelectorAll(".form").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".tab").forEach((e=>e.classList.remove("active"))),document.getElementById(t+"Form").classList.add("active"),e.classList.add("active"),gsap.timeline().fromTo("#"+t+"Form",{opacity:0,x:500,scale:.9},{opacity:1,x:0,scale:1,duration:.5,ease:"power4.out"}).to("#"+t+"Form",{scale:1,duration:.2,ease:"elastic.out(1, 1)"}).to("#"+t+"Form",{scale:1,duration:.2,ease:"ease.out"})}))})),document.getElementById("loginForm")&&(document.getElementById("loginForm").addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("loginEmail").value,o=document.getElementById("loginPassword").value;t&&o?alert("Logged in successfully"):document.getElementById("loginError").innerText="Please fill in all fields"})),document.getElementById("registerForm").addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("registerName").value,o=document.getElementById("registerEmail").value,n=document.getElementById("registerPassword").value,a=document.getElementById("registerGender").value;t&&o&&n&&""!==a?alert("Account created successfully"):document.getElementById("registerError").innerText="Please fill in all fields"}))),document.getElementById("edit-modal")){const e=document.getElementById("edit-modal"),t=document.getElementById("avatar-img"),o=document.getElementById("avatar-input"),n=document.getElementById("avatar-preview");document.getElementById("edit-profile-btn").addEventListener("click",(()=>{document.getElementById("name-input").value=document.getElementById("profile-name").textContent,document.getElementById("birthday-input").value=document.getElementById("profile-birthday").textContent,document.getElementById("gender-input").value=document.getElementById("profile-gender").textContent,document.getElementById("location-input").value=document.getElementById("profile-location").textContent,n.src=t.src,e.style.display="flex"})),document.getElementById("close-btn").addEventListener("click",(()=>{e.style.display="none"})),o.addEventListener("change",(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{n.src=e.target.result},e.readAsDataURL(t)}})),document.getElementById("save-btn").addEventListener("click",(()=>{document.getElementById("profile-name").textContent=document.getElementById("name-input").value,document.getElementById("profile-birthday").textContent=document.getElementById("birthday-input").value,document.getElementById("profile-gender").textContent=document.getElementById("gender-input").value,document.getElementById("profile-location").textContent=document.getElementById("location-input").value,n.src&&(t.src=n.src),e.style.display="none"}))}const m=document.querySelectorAll(".chat-list-item"),y=document.querySelectorAll(".chat");m.forEach(((e,t)=>{e.addEventListener("click",(function(){m.forEach((e=>e.classList.remove("active"))),y.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),y[t].classList.add("active")}))}))}));