window.addEventListener("load",(function(){setTimeout((function(){document.getElementById("loading-screen").style.opacity="0",document.querySelector(".main").style.display="block",setTimeout((function(){document.getElementById("loading-screen").style.display="none",document.querySelector(".main").style.opacity="1"}),1e3)}),1e3)})),document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("videoElement")&&document.getElementById("videoElement-user")&&document.getElementById("startButton")){let a;const c=document.getElementById("startButton"),l=document.getElementById("nextButton"),s=document.getElementById("stopButton"),i=document.getElementById("repButton"),d=document.querySelector(".flashlight-btn"),r=document.querySelector(".fullscreen-btn"),u=document.getElementById("videoElement"),m=document.getElementById("videoElement-user"),p=document.getElementById("backButton"),y=document.getElementById("heart"),g=document.getElementById("content-section"),f=document.querySelector(".left-user-stream"),h=document.querySelector(".controls-container"),E=document.querySelector(".controls-container .logo-stream"),v=document.querySelectorAll(".hide-on-stream"),L=document.querySelector(".chat-stream"),C=document.querySelector(".stream-load");f.style.display="none",l.style.display="none",s.style.display="none",d.style.display="none",r.style.display="none",y.style.display="none",p.style.display="none",E.style.display="none",i.style.display="none",L.style.display="none",c.addEventListener("click",(function(){a||navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){a=e,u.srcObject=e,m.srcObject=e,c.textContent="Chatting...",h.classList.add("stream"),g.style.display="none",f.style.display="block",v.forEach((e=>{gsap.to(e,{opacity:0,visibility:"hidden",duration:.4,ease:"power2.out"})})),c.style.display="none",l.style.display="flex",s.style.display="flex",d.style.display="flex",r.style.display="flex",p.style.display="flex",y.style.display="flex",E.style.display="flex",i.style.display="flex",L.style.display="flex",gsap.fromTo(l,{opacity:0,y:-20},{opacity:1,y:0,duration:.5}),gsap.fromTo(s,{opacity:0,y:-20},{opacity:1,y:0,duration:.5}),gsap.fromTo(d,{opacity:0,y:20},{opacity:1,y:0,duration:.5}),gsap.fromTo(r,{opacity:0,y:20},{opacity:1,y:0,duration:.5}),gsap.fromTo(p,{opacity:0,y:-20},{opacity:1,y:0,duration:.5}),gsap.fromTo(y,{opacity:0,y:20},{opacity:1,y:0,duration:.5}),gsap.fromTo(E,{opacity:0,y:-20},{opacity:1,y:0,duration:.5}),gsap.fromTo(i,{opacity:0,y:-20},{opacity:1,y:0,duration:.5}),gsap.fromTo(L,{opacity:0,y:-20},{opacity:1,y:0,duration:.5})})).catch((function(e){console.error("Error accessing camera: ",e),alert("Unable to access camera.")}))})),s.addEventListener("click",(function(){a&&(a.getTracks().forEach((e=>e.stop())),a=null,u.srcObject=null,c.textContent="Start Chat",c.style.display="block",h.classList.remove("stream"),g.style.display="flex",f.style.display="none",v.forEach((e=>{gsap.to(e,{opacity:1,visibility:"visible",duration:.4,ease:"power2.out"})})),l.style.display="none",s.style.display="none",d.style.display="none",r.style.display="none",p.style.display="none",y.style.display="none",E.style.display="none",i.style.display="none",L.style.display="none")})),p.addEventListener("click",(function(){gsap.timeline().fromTo(p,{scale:1,y:0},{scale:.8,duration:.1,x:-10,ease:"power2.out"}).to(p,{scale:1,duration:.1,ease:"power2.out"}).to(p,{scale:1.2,duration:.1,x:0,ease:"power2.out"}).to(p,{scale:1,duration:.3,ease:"power2.out"}),gsap.timeline().fromTo("#videoElement-user",{opacity:1,x:0},{opacity:0,x:"100%",duration:1,ease:"power2.out"}).to("#videoElement-user",{opacity:1,x:"-100%",duration:0,ease:"power2.out"}).to("#videoElement-user",{opacity:1,x:0,duration:1,ease:"power2.out"}),gsap.timeline().to(C,{opacity:1,duration:.5,ease:"power2.out"}).to(C,{opacity:0,duration:.5,delay:.6,ease:"power2.out"})})),y.addEventListener("click",(function(){gsap.timeline().fromTo(y,{scale:1},{scale:.8,duration:.1,ease:"power2.out"}).to(y,{scale:1,duration:.1,ease:"power2.out"}).to(y,{scale:1.2,duration:.1,ease:"power2.out"}).to(y,{scale:1,duration:.3,ease:"power2.out"})})),d.addEventListener("click",(function(){gsap.timeline().fromTo(d,{scale:1},{scale:.8,duration:.1,ease:"power2.out"}).to(d,{scale:1,duration:.1,ease:"power2.out"}).to(d,{scale:1.2,duration:.1,ease:"power2.out"}).to(d,{scale:1,duration:.3,ease:"power2.out"})})),r.addEventListener("click",(function(){gsap.timeline().fromTo(r,{scale:1},{scale:.8,duration:.1,ease:"power2.out"}).to(r,{scale:1,duration:.1,ease:"power2.out"}).to(r,{scale:1.2,duration:.1,ease:"power2.out"}).to(r,{scale:1,duration:.3,ease:"power2.out"})})),l.addEventListener("click",(function(){gsap.timeline().fromTo(l,{scale:1,y:0},{scale:.8,duration:.1,x:10,ease:"power2.out"}).to(l,{scale:1,duration:.1,ease:"power2.out"}).to(l,{scale:1.2,duration:.1,x:0,ease:"power2.out"}).to(l,{scale:1,duration:.3,ease:"power2.out"}),gsap.timeline().fromTo("#videoElement-user",{opacity:1,x:0},{opacity:0,x:"-100%",duration:1,ease:"power2.out"}).to("#videoElement-user",{opacity:1,x:"100%",duration:0,ease:"power2.out"}).to("#videoElement-user",{opacity:1,x:0,duration:1,ease:"power2.out"}),gsap.timeline().to(C,{opacity:1,visibility:"visible",duration:.5,ease:"power2.out"}).to(C,{opacity:0,visibility:"hidden",duration:.5,delay:.6,ease:"power2.out"})}))}if(document.querySelectorAll(".left .nav-list button")&&document.querySelectorAll("button[data-tab]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");document.querySelectorAll(".content-left").forEach((e=>e.classList.remove("active"))),document.getElementById("content"+t).classList.add("active"),document.querySelectorAll(".left .nav-list button").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),t>1?document.getElementById("mainSection").classList.add("full-screen"):document.getElementById("mainSection").classList.remove("full-screen"),gsap.timeline().fromTo("#content"+t,{opacity:0,y:500,scale:.7},{opacity:1,y:0,scale:.85,duration:.7,ease:"power4.out"}).to("#content"+t,{scale:1,filter:"blur(0px)",duration:.3,ease:"elastic.out(1, 1)"}).to("#content"+t,{scale:1,duration:.3,ease:"ease.out"})}))})),document.querySelectorAll("[data-popup]")){function e(e,t,n){const o=document.querySelector(e);if(!o)return;const a=document.getElementById(t),c=document.getElementById(n),l=o.querySelector("img"),s=l?l.src:"";if(c.value=o.getAttribute("data-value"),a.innerHTML="",s){const e=document.createElement("img");e.src=s,e.alt="Icon",e.style.width="20px",e.style.height="20px",e.style.marginRight="5px",a.appendChild(e)}a.appendChild(document.createTextNode(o.textContent.trim())),document.querySelectorAll(e.replace(":first-child","")).forEach((e=>e.classList.remove("active"))),o.classList.add("active")}document.querySelectorAll("[data-popup]").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-popup"),n=document.getElementById(t);if(n){n.classList.add("active");const e=n.querySelector(".popup-content");gsap.timeline().fromTo(e,{opacity:0,y:500,scale:.7},{opacity:1,y:"-50%",scale:.85,duration:.5,ease:"power4.out"}).to(e,{scale:1,duration:.5,ease:"elastic.out(1, 1)"}).to(e,{scale:1,duration:.3,ease:"ease.out"})}}))})),document.querySelectorAll(".popup-close").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".popup");t&&t.classList.remove("active")}))})),document.querySelectorAll(".popup-background").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".popup");t&&t.classList.remove("active")}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&document.querySelectorAll(".popup.active").forEach((e=>{e.classList.remove("active")}))})),e('.gender-option[data-value="all"]',"genderBtn","genderInput"),e('.country-option[data-value="gl"]',"countryBtn","countryInput"),document.getElementById("genderdef")&&document.getElementById("genderdef").classList.add("active"),document.querySelectorAll(".gender-option").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".gender-option");if(!t)return;const n=t.getAttribute("data-value"),o=document.getElementById("genderBtn");document.getElementById("genderInput").value=n;const a=t.querySelector("img"),c=a?a.src:"";if(o.innerHTML="",c){const e=document.createElement("img");e.src=c,e.alt="Gender Icon",e.style.width="20px",e.style.height="20px",e.style.marginRight="5px",o.appendChild(e)}o.appendChild(document.createTextNode(t.textContent.trim())),document.getElementById("genderPopup").classList.remove("active"),document.querySelectorAll(".gender-option").forEach((e=>e.classList.remove("active"))),t.classList.add("active")}))})),document.querySelectorAll(".country-option").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".country-option");if(!t)return;const n=t.getAttribute("data-value"),o=document.getElementById("countryBtn");document.getElementById("countryInput").value=n;const a=t.querySelector("img"),c=a?a.src:"";if(o.innerHTML="",c){const e=document.createElement("img");e.src=c,e.alt="Country Flag",e.style.width="20px",e.style.height="20px",e.style.marginRight="5px",o.appendChild(e)}o.appendChild(document.createTextNode(t.textContent.trim())),document.getElementById("countryPopup").classList.remove("active"),document.querySelectorAll(".country-option").forEach((e=>e.classList.remove("active"))),t.classList.add("active")}))})),document.querySelectorAll(".report-option").forEach((e=>{e.addEventListener("click",(e=>{document.getElementById("reportPopup").classList.remove("active")}))}))}if(document.querySelector(".left")&&function(){const e=document.querySelector(".left");e&&function t(){(function(){const t=document.createElement("div"),n=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("viewBox","0 0 600 500"),n.style.fill="white",o.setAttribute("d","M300,150 C500,10 600,300 300,400 C0,300 100,10 300,150"),n.classList.add("heart"),n.appendChild(o),t.classList.add("bubble"),t.style.background=function(){const e=["linear-gradient(to top right, #fd267a, #ff6036)"];return e[Math.floor(Math.random()*e.length)]}(),t.appendChild(n),e.appendChild(t);let a=Math.random()*e.clientWidth,c=Math.random()*e.clientHeight;t.style.left=`${a}px`,t.style.top=`${c}px`,t.animate([{opacity:0,transform:"translate(-50%, 0%) scale(0)"},{opacity:1,transform:"translate(-50%, -50%) scale(1)"},{opacity:0,transform:"translate(-50%, -100%) scale(1.2)"}],{duration:3e3,easing:"ease-out",fill:"forwards"}),setTimeout((()=>t.remove()),3e3)})(),setTimeout(t,400)}()}(),document.getElementById("theme-switch")){const I=document.getElementById("theme-switch"),B=document.body;"dark"===localStorage.getItem("theme")?(B.classList.add("dark-theme"),I.checked=!0):(B.classList.add("light-theme"),I.checked=!1),I.addEventListener("change",(function(){this.checked?(B.classList.add("dark-theme"),B.classList.remove("light-theme"),localStorage.setItem("theme","dark")):(B.classList.remove("dark-theme"),B.classList.add("light-theme"),localStorage.setItem("theme","light"))}))}if(document.getElementById("hamburger")){const k=document.getElementById("hamburger"),S=document.getElementById("menu");k.addEventListener("click",(function(){k.classList.toggle("open"),S.classList.toggle("open")})),S.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(function(){k.classList.remove("open"),S.classList.remove("open")}))})),document.addEventListener("click",(function(e){S.contains(e.target)||k.contains(e.target)||(k.classList.remove("open"),S.classList.remove("open"))}))}if(document.querySelector(".chat")&&document.querySelectorAll(".chat").forEach((e=>{const t=e.querySelector(".messages-content"),n=e.querySelector(".message-input"),o=e.querySelector(".message-submit"),a=e.querySelector(".chat-title h1").innerText,c=document.querySelector(`.chat-list-item[data-chat="${a}"] .item-lastmess`);let l,s,i=0;function d(){t.scrollTop=t.scrollHeight}function r(){if(l=new Date,s!==l.getMinutes()){s=l.getMinutes();const e=document.createElement("div");e.classList.add("timestamp"),e.innerText=`${l.getHours()}:${s}`,t.lastElementChild.appendChild(e)}}function u(e){c&&(c.innerText=e.length>40?e.substring(0,40)+"...":e)}function m(){const e=n.value.trim();if(""===e)return;const o=document.createElement("div");o.classList.add("message","message-personal"),o.innerText=e,t.appendChild(o),r(),n.value=null,d(),u(e),setTimeout((function(){!function(){if(""!==n.value)return;const e=document.createElement("div");e.classList.add("message","loading","new");const o=document.createElement("figure");o.classList.add("avatar");const a=document.createElement("img");a.src="img/avatar.png",o.appendChild(a),e.appendChild(o),e.innerHTML+="<span></span>",t.appendChild(e),d(),setTimeout((function(){e.remove();const n=document.createElement("div");n.classList.add("message","new");const o=document.createElement("figure");o.classList.add("avatar");const a=document.createElement("img");a.src="img/avatar.png",o.appendChild(a),n.appendChild(o),n.innerHTML+=p[i%p.length],t.appendChild(n),r(),d(),u(p[i%p.length]),i++}),1e3+20*Math.random()*100)}()}),1e3+20*Math.random()*100)}o.addEventListener("click",m),e.addEventListener("keydown",(function(e){13===e.which&&(m(),e.preventDefault())}));const p=["Hi there, I'm Fabio and you?","Nice to meet you","How are you?","Not too bad, thanks","What do you do?","That's awesome","Codepen is a nice place to stay","I think you're a nice person","Why do you think that?","Can you explain?","Anyway I've gotta go now","It was a pleasure chat with you","Time to make a new codepen","Bye",":)"]})),document.querySelectorAll(".left .nav-list button")&&document.querySelectorAll(".left .nav-list button").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");document.querySelectorAll(".content-left").forEach((e=>e.classList.remove("active"))),document.getElementById("content"+t).classList.add("active"),document.querySelectorAll(".left .nav-list button").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),t>1?document.getElementById("mainSection").classList.add("full-screen"):document.getElementById("mainSection").classList.remove("full-screen"),gsap.timeline().fromTo("#content"+t,{opacity:0,y:500,scale:.7},{opacity:1,y:0,scale:.85,duration:.7,ease:"power4.out"}).to("#content"+t,{scale:1,filter:"blur(0px)",duration:.3,ease:"elastic.out(1, 1)"}).to("#content"+t,{scale:1,duration:.3,ease:"ease.out"})}))})),document.querySelectorAll(".chat-list .chat-item")&&document.querySelectorAll(".chat-list .chat-item").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");document.querySelectorAll(".content-left").forEach((e=>e.classList.remove("active"))),document.getElementById("chat-"+t).classList.add("active"),document.querySelectorAll(".chat-list .chat-item").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),gsap.timeline().fromTo("#chat-"+t,{opacity:0,y:500,scale:.7},{opacity:1,y:0,scale:.85,duration:.7,ease:"power4.out"}).to("#chat-"+t,{scale:1,filter:"blur(0px)",duration:.3,ease:"elastic.out(1, 1)"}).to("#chat-"+t,{scale:1,duration:.3,ease:"ease.out"})}))})),document.querySelector(".border-light")){const w=document.querySelector(".border-light"),b=document.getElementById("toggleLight"),q=document.getElementById("flashlightIcon"),x='<path d="M9 18H15" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M10 21H14" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M16.4999 11.5C17.4997 10.5 17.9765 9.48689 17.9999 8C18.0479 4.95029 16 3 11.9999 3C10.8324 3 9.83119 3.16613 8.99988 3.47724" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M8.99985 15C9 13 8.5 12.5 7.49985 11.5C6.4997 10.5 6.02324 9.48689 5.99985 8C5.99142 7.46458 6.0476 6.96304 6.1676 6.5" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M3 3L21 21" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>',T='<path d="M9 18H15" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M10 21H14" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>\n      <path d="M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>';b.addEventListener("click",(()=>{"none"===w.style.display||""===w.style.display?(w.style.display="block",q.innerHTML=x):(w.style.display="none",q.innerHTML=T)}))}if(document.querySelector(".fullscreen-btn")){const A=document.getElementById("togglescreen"),M=document.getElementById("togglescreenicon"),H=document.getElementById("videoElement-user"),F=document.getElementById("videoElement"),R='<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M7 16L2 16C1.44772 16 1 15.5523 1 15C1 14.4477 1.44772 14 2 14L7 14C8.65685 14 10 15.3431 10 17V22C10 22.5523 9.55228 23 9 23C8.44772 23 8 22.5523 8 22V17C8 16.4477 7.55228 16 7 16Z" fill="#ffffff"></path> <path d="M10 2C10 1.44772 9.55229 1 9 1C8.44772 1 8 1.44772 8 2L8 7C8 7.55228 7.55228 8 7 8L2 8C1.44772 8 1 8.44771 1 9C1 9.55228 1.44772 10 2 10L7 10C8.65685 10 10 8.65685 10 7L10 2Z" fill="#ffffff"></path> <path d="M14 22C14 22.5523 14.4477 23 15 23C15.5523 23 16 22.5523 16 22V17C16 16.4477 16.4477 16 17 16H22C22.5523 16 23 15.5523 23 15C23 14.4477 22.5523 14 22 14H17C15.3431 14 14 15.3431 14 17V22Z" fill="#ffffff"></path> <path d="M14 7C14 8.65686 15.3431 10 17 10L22 10C22.5523 10 23 9.55228 23 9C23 8.44772 22.5523 8 22 8L17 8C16.4477 8 16 7.55229 16 7L16 2C16 1.44772 15.5523 1 15 1C14.4477 1 14 1.44772 14 2L14 7Z" fill="#ffffff"></path> </g>',V='<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M23 4C23 2.34315 21.6569 1 20 1H16C15.4477 1 15 1.44772 15 2C15 2.55228 15.4477 3 16 3H20C20.5523 3 21 3.44772 21 4V8C21 8.55228 21.4477 9 22 9C22.5523 9 23 8.55228 23 8V4Z" fill="#ffffff"></path> <path d="M23 16C23 15.4477 22.5523 15 22 15C21.4477 15 21 15.4477 21 16V20C21 20.5523 20.5523 21 20 21H16C15.4477 21 15 21.4477 15 22C15 22.5523 15.4477 23 16 23H20C21.6569 23 23 21.6569 23 20V16Z" fill="#ffffff"></path> <path d="M4 21H8C8.55228 21 9 21.4477 9 22C9 22.5523 8.55228 23 8 23H4C2.34315 23 1 21.6569 1 20V16C1 15.4477 1.44772 15 2 15C2.55228 15 3 15.4477 3 16V20C3 20.5523 3.4477 21 4 21Z" fill="#ffffff"></path> <path d="M1 8C1 8.55228 1.44772 9 2 9C2.55228 9 3 8.55228 3 8L3 4C3 3.44772 3.44772 3 4 3H8C8.55228 3 9 2.55228 9 2C9 1.44772 8.55228 1 8 1H4C2.34315 1 1 2.34315 1 4V8Z" fill="#ffffff"></path> </g>';A.addEventListener("click",(()=>{H.classList.toggle("full-screen"),F.classList.toggle("full-screen"),H.classList.contains("full-screen")?M.innerHTML=R:M.innerHTML=V,document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen?document.documentElement.webkitRequestFullscreen():document.documentElement.msRequestFullscreen&&document.documentElement.msRequestFullscreen()})),document.addEventListener("fullscreenchange",(()=>{document.fullscreenElement?M.innerHTML=R:M.innerHTML=V}))}if(document.querySelectorAll(".tab")&&document.querySelectorAll(".tab").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-tab");document.querySelectorAll(".form").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".tab").forEach((e=>e.classList.remove("active"))),document.getElementById(t+"Form").classList.add("active"),e.classList.add("active"),gsap.timeline().fromTo("#"+t+"Form",{opacity:0,x:500,scale:.9},{opacity:1,x:0,scale:1,duration:.5,ease:"power4.out"}).to("#"+t+"Form",{scale:1,duration:.2,ease:"elastic.out(1, 1)"}).to("#"+t+"Form",{scale:1,duration:.2,ease:"ease.out"})}))})),document.getElementById("loginForm")&&(document.getElementById("loginForm").addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("loginEmail").value,n=document.getElementById("loginPassword").value;t&&n?alert("Logged in successfully"):document.getElementById("loginError").innerText="Please fill in all fields"})),document.getElementById("registerForm").addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("registerName").value,n=document.getElementById("registerEmail").value,o=document.getElementById("registerPassword").value,a=document.getElementById("registerGender").value;t&&n&&o&&""!==a?alert("Account created successfully"):document.getElementById("registerError").innerText="Please fill in all fields"}))),document.getElementById("edit-modal")){const j=document.getElementById("edit-modal"),D=document.getElementById("avatar-img"),G=document.getElementById("avatar-input"),N=document.getElementById("avatar-preview");document.getElementById("edit-profile-btn").addEventListener("click",(()=>{document.getElementById("name-input").value=document.getElementById("profile-name").textContent,document.getElementById("birthday-input").value=document.getElementById("profile-birthday").textContent,document.getElementById("gender-input").value=document.getElementById("profile-gender").textContent,document.getElementById("location-input").value=document.getElementById("profile-location").textContent,N.src=D.src,j.style.display="flex"})),document.getElementById("close-btn").addEventListener("click",(()=>{j.style.display="none"})),G.addEventListener("change",(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{N.src=e.target.result},e.readAsDataURL(t)}})),document.getElementById("save-btn").addEventListener("click",(()=>{document.getElementById("profile-name").textContent=document.getElementById("name-input").value,document.getElementById("profile-birthday").textContent=document.getElementById("birthday-input").value,document.getElementById("profile-gender").textContent=document.getElementById("gender-input").value,document.getElementById("profile-location").textContent=document.getElementById("location-input").value,N.src&&(D.src=N.src),j.style.display="none"}))}if(document.querySelectorAll(".chat-list-item")){const P=document.querySelectorAll(".chat-list-item"),Z=document.querySelectorAll(".chat");P.forEach(((e,t)=>{e.addEventListener("click",(function(){P.forEach((e=>e.classList.remove("active"))),Z.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),Z[t].classList.add("active")}))}))}if(document.querySelector(".chat-stream .stream-message-input")){const U=document.querySelector(".chat-stream .stream-message-input"),$=document.querySelector(".chat-stream .stream-send-btn"),_=document.querySelector(".chat-stream .stream-messages");function t(){const e=U.value.trim();if(!e)return;const t=document.createElement("div");t.classList.add("stream-message","stream-personal"),t.innerText=e,_.prepend(t);const n=document.createElement("div");n.classList.add("stream-message","stream-incoming"),n.innerText=e,_.prepend(n),U.value=""}$.addEventListener("click",t),U.addEventListener("keydown",(e=>{"Enter"===e.key&&(t(),e.preventDefault())}))}if(document.getElementById("file-input")&&document.getElementById("file-input").addEventListener("change",(function(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=function(e){const t=document.querySelector(".messages-content"),n=document.createElement("div");n.classList.add("message","message-personal","new");const o=document.createElement("img");o.src=e.target.result,o.alt="Attached Image",o.style.maxWidth="250px",o.style.borderRadius="5px",o.style.display="block",n.appendChild(o);const a=document.createElement("div");a.classList.add("timestamp");const c=new Date;a.textContent=c.getHours()+":"+String(c.getMinutes()).padStart(2,"0"),n.appendChild(a),t.appendChild(n),t.scrollTop=t.scrollHeight},e.readAsDataURL(t)}})),document.querySelectorAll(".faq-item")&&document.querySelectorAll(".faq-item").forEach((e=>{const t=e.querySelector(".faq"),n=e.querySelector(".faq-info");gsap.set(n,{height:0,opacity:0,visibility:"hidden",overflow:"hidden"}),t.addEventListener("click",(function(){const e=n.classList.contains("active");t.classList.contains("active"),document.querySelectorAll(".faq-info").forEach((e=>{e!==n&&(gsap.to(e,{height:0,opacity:0,visibility:"hidden",duration:1,ease:"power2.out"}),e.classList.remove("active"))})),document.querySelectorAll(".faq").forEach((e=>{e!==t&&e.classList.remove("active")})),e?(gsap.to(n,{height:n.scrollHeight,duration:0,onComplete:()=>{gsap.to(n,{height:0,opacity:0,visibility:"hidden",duration:1,ease:"power2.out"})}}),n.classList.remove("active"),t.classList.remove("active")):(n.classList.add("active"),t.classList.add("active"),gsap.to(n,{height:"auto",opacity:1,visibility:"visible",duration:1,ease:"power2.out",onComplete:()=>n.style.height=""}))}))})),document.getElementById("tags")){const z=document.getElementById("tags"),O=document.getElementById("tagInput"),W=document.getElementById("addTag");let J=[];function n(){const e=O.value.trim();e&&J.length<3&&(J.push(e),o(),O.value="")}function o(){z.innerHTML="",J.forEach(((e,t)=>{const n=document.createElement("div");n.classList.add("tag"),n.textContent=`#${e} `;const o=document.createElement("span");o.textContent="×",o.dataset.index=t,n.appendChild(o),z.appendChild(n)})),W.disabled=J.length>=3}W.addEventListener("click",n),O.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),n())})),z.addEventListener("click",(function(e){if("SPAN"===e.target.tagName&&void 0!==e.target.dataset.index){const t=e.target.dataset.index;J.splice(t,1),o()}}))}if(document.querySelectorAll(".gender-btn")){document.querySelectorAll(".gender-btn").forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.getAttribute("data-value");document.getElementById("genderInput").value=t,localStorage.setItem("selectedGender",t),document.getElementById("genderSelectBtn").textContent=t.charAt(0).toUpperCase()+t.slice(1),document.getElementById("genderPopup").classList.remove("active")}))}));const K=localStorage.getItem("selectedGender");K&&(document.getElementById("genderInput").value=K,document.getElementById("genderSelectBtn").textContent=K.charAt(0).toUpperCase()+K.slice(1))}if(document.getElementById("heart")){const Q=document.getElementById("heart"),X=document.getElementById("friendRequestPopup"),Y=document.getElementById("popupMessage");Q.addEventListener("click",(function(){X.style.display="block",Y.textContent="A new friend just became your hero! 💚",setTimeout((()=>{X.classList.add("active")}),10),setTimeout((()=>{X.classList.remove("active"),setTimeout((()=>{X.style.display="none"}),500)}),2e3)}))}}));